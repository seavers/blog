
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>c3p0.properties  .vs.   c3p0-config.xml - 大海Online的博客</title>
  <meta name="author" content="lianghaijun">

  
  <meta name="description" content="

  
  
    
      c3p0.properties  .vs.   c3p0-config.xml
    
    
      
        










      
    
  



 
摘自c3p0.jar，方便查看
//c3p0.propertie...">
  

  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://www.lianghaijun.com/2007-08-23-1982085.html">
  <link href="/blog/static/screen.css" media="screen, projection" rel="stylesheet">
  <link href="" rel="alternate" title="大海Online的博客" type="application/atom+xml">
</head>

<body   >
  <header role="banner"><hgroup>
  <div id="wb_connect_btn"></div>
  <h1><a href="/">大海Online的博客</a></h1>
  
    <h2>Looking for Interest</h2>
  
</hgroup>
</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<ul class="main-navigation">
  <li><a href="/blog/archives.html">Archives</a></li>
  <li><a href="/blog/link.html">link</a></li>
  <li><a href="/blog/about.html">about</a></li>
</ul>
</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">c3p0.properties  .vs.   c3p0-config.xml</h1>
    
    
      <p class="meta">
        









<time datetime="2007-08-23T21:11:00+08:00" pubdate data-updated="true"></time>
      </p>
    
  </header>


<div class="entry-content"><div class="iteye-blog-content-contain" style="font-size: 14px;">
<p> </p>
<p>摘自c3p0.jar，方便查看</p>
<p>//c3p0.properties</p>
<div style="padding-right: 5.4pt; padding-left: 5.4pt; background: #e6e6e6; padding-bottom: 4px; width: 95%; padding-top: 4px;">
<div>
<span style="color: #000000;">#<br />#Thisfileisdetritusfromvarioustestingattempts<br />#thevaluesbelowmaychange</span><span style="color: #000000;">,</span><span style="color: #000000;">andoftendonotrepresent<br />#reasonablevaluesfortheparameters.<br />#<br /><br />#c3p0.testConnectionOnCheckout</span><span style="color: #000000;">=</span><span style="color: #000000;">true<br />#c3p0.testConnectionOnCheckin</span><span style="color: #000000;">=</span><span style="color: #000000;">true<br />#c3p0.minPoolSize</span><span style="color: #000000;">=</span><span style="color: #000000;">3</span><span style="color: #000000;"><br />#c3p0.maxPoolSize</span><span style="color: #000000;">=</span><span style="color: #000000;">20</span><span style="color: #000000;"><br />#c3p0.checkoutTimeout</span><span style="color: #000000;">=</span><span style="color: #000000;">2000</span><span style="color: #000000;"><br />#c3p0.idleConnectionTestPeriod</span><span style="color: #000000;">=</span><span style="color: #000000;">5</span><span style="color: #000000;"><br />#c3p0.maxConnectionAge</span><span style="color: #000000;">=</span><span style="color: #000000;">10</span><span style="color: #000000;"><br />#c3p0.maxIdleTime</span><span style="color: #000000;">=</span><span style="color: #000000;">2</span><span style="color: #000000;"><br />#c3p0.maxIdleTimeExcessConnections</span><span style="color: #000000;">=</span><span style="color: #000000;">1</span><span style="color: #000000;"><br />#c3p0.propertyCycle</span><span style="color: #000000;">=</span><span style="color: #000000;">1</span><span style="color: #000000;"><br />#c3p0.numHelperThreads</span><span style="color: #000000;">=</span><span style="color: #000000;">10</span><span style="color: #000000;"><br />#c3p0.unreturnedConnectionTimeout</span><span style="color: #000000;">=</span><span style="color: #000000;">15</span><span style="color: #000000;"><br />#c3p0.debugUnreturnedConnectionStackTraces</span><span style="color: #000000;">=</span><span style="color: #000000;">true<br />#c3p0.maxStatements</span><span style="color: #000000;">=</span><span style="color: #000000;">30</span><span style="color: #000000;"><br />#c3p0.maxStatementsPerConnection</span><span style="color: #000000;">=</span><span style="color: #000000;">5</span><span style="color: #000000;"><br />#c3p0.maxAdministrativeTaskTime</span><span style="color: #000000;">=</span><span style="color: #000000;">3</span><span style="color: #000000;"><br />#c3p0.preferredTestQuery</span><span style="color: #000000;">=</span><span style="color: #000000;">SELECT</span><span style="color: #000000;">1</span><span style="color: #000000;"><br />#c3p0.preferredTestQuery</span><span style="color: #000000;">=</span><span style="color: #000000;">SELECTaFROMemptyyukyukWHEREa</span><span style="color: #000000;">=</span><span style="color: #000000;">5</span><span style="color: #000000;"><br />#c3p0.preferredTestQuery</span><span style="color: #000000;">=</span><span style="color: #000000;">SELECTaFROMtestpbdsWHEREa</span><span style="color: #000000;">=</span><span style="color: #000000;">5</span><span style="color: #000000;"><br />#c3p0.usesTraditionalReflectiveProxies</span><span style="color: #000000;">=</span><span style="color: #000000;">true<br />#c3p0.automaticTestTable</span><span style="color: #000000;">=</span><span style="color: #000000;">PoopyTestTable<br />#c3p0.acquireIncrement</span><span style="color: #000000;">=</span><span style="color: #000000;">4</span><span style="color: #000000;"><br />#c3p0.acquireRetryDelay</span><span style="color: #000000;">=</span><span style="color: #000000;">1000</span><span style="color: #000000;"><br />#c3p0.acquireRetryAttempts</span><span style="color: #000000;">=</span><span style="color: #000000;">60</span><span style="color: #000000;"><br />#c3p0.connectionTesterClassName</span><span style="color: #000000;">=</span><span style="color: #000000;">com.mchange.v2.c3p0.test.AlwaysFailConnectionTester<br />#c3p0.initialPoolSize</span><span style="color: #000000;">=</span><span style="color: #000000;">10</span><span style="color: #000000;"><br /><br />c3p0.jdbcUrl</span><span style="color: #000000;">=</span><span style="color: #000000;">jdbc:postgresql://localhost/c3p0-test<br />c3p0.driverClass</span><span style="color: #000000;">=</span><span style="color: #000000;">org.postgresql.Driver<br />c3p0.user</span><span style="color: #000000;">=</span><span style="color: #000000;">swaldman<br />c3p0.password</span><span style="color: #000000;">=</span><span style="color: #000000;">test<br />#c3p0.user</span><span style="color: #000000;">=</span><span style="color: #000000;">poop<br />#c3p0.password</span><span style="color: #000000;">=</span><span style="color: #000000;">scoop<br /><br />#com.mchange.v2.log.MLog</span><span style="color: #000000;">=</span><span style="color: #000000;">com.mchange.v2.log.log4j.Log4jMLog<br />#com.mchange.v2.log.MLog</span><span style="color: #000000;">=</span><span style="color: #000000;">com.mchange.v2.log.jdk14logging.Jdk14MLog<br />#com.mchange.v2.log.MLog</span><span style="color: #000000;">=</span><span style="color: #000000;">com.mchange.v2.log.FallbackMLog<br />#com.mchange.v2.log.NameTransformer</span><span style="color: #000000;">=</span><span style="color: #000000;">com.mchange.v2.log.PackageNames<br />#com.mchange.v2.log.FallbackMLog.DEFAULT_CUTOFF_LEVEL</span><span style="color: #000000;">=</span><span style="color: #000000;">ALL<br /><br /><br />#com.mchange.v2.c3p0.VMID</span><span style="color: #000000;">=</span><span style="color: #000000;">poop<br /><br /></span>
</div>
</div>
<p> </p>
<p> </p>
<p>//c3p0-config.xml</p>
<div style="padding-right: 5.4pt; padding-left: 5.4pt; background: #e6e6e6; padding-bottom: 4px; width: 95%; padding-top: 4px;">
<div>
<span style="color: #0000ff;">&lt;</span><span style="color: #800000;">c3p0-config</span><span style="color: #0000ff;">&gt;</span><span style="color: #000000;"><br /></span><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">default-config</span><span style="color: #0000ff;">&gt;</span><span style="color: #000000;"><br /></span><span style="color: #008000;">&lt;!--</span><span style="color: #008000;">&lt;propertyname="automaticTestTable"&gt;con_test&lt;/property&gt;</span><span style="color: #008000;">--&gt;</span><span style="color: #000000;"><br /></span><span style="color: #008000;">&lt;!--</span><span style="color: #008000;">&lt;propertyname="checkoutTimeout"&gt;30000&lt;/property&gt;</span><span style="color: #008000;">--&gt;</span><span style="color: #000000;"><br /></span><span style="color: #008000;">&lt;!--</span><span style="color: #008000;">&lt;propertyname="idleConnectionTestPeriod"&gt;30&lt;/property&gt;</span><span style="color: #008000;">--&gt;</span><span style="color: #000000;"><br /></span><span style="color: #008000;">&lt;!--</span><span style="color: #008000;">&lt;propertyname="initialPoolSize"&gt;10&lt;/property&gt;</span><span style="color: #008000;">--&gt;</span><span style="color: #000000;"><br /></span><span style="color: #008000;">&lt;!--</span><span style="color: #008000;">&lt;propertyname="maxIdleTime"&gt;30&lt;/property&gt;</span><span style="color: #008000;">--&gt;</span><span style="color: #000000;"><br /></span><span style="color: #008000;">&lt;!--</span><span style="color: #008000;">&lt;propertyname="maxIdleTimeExcessConnections"&gt;10&lt;/property&gt;</span><span style="color: #008000;">--&gt;</span><span style="color: #000000;"><br /></span><span style="color: #008000;">&lt;!--</span><span style="color: #008000;">&lt;propertyname="maxConnectionAge"&gt;60&lt;/property&gt;</span><span style="color: #008000;">--&gt;</span><span style="color: #000000;"><br /></span><span style="color: #008000;">&lt;!--</span><span style="color: #008000;">&lt;propertyname="propertyCycle"&gt;1&lt;/property&gt;</span><span style="color: #008000;">--&gt;</span><span style="color: #000000;"><br /></span><span style="color: #008000;">&lt;!--</span><span style="color: #008000;">&lt;propertyname="maxPoolSize"&gt;25&lt;/property&gt;</span><span style="color: #008000;">--&gt;</span><span style="color: #000000;"><br /></span><span style="color: #008000;">&lt;!--</span><span style="color: #008000;">&lt;propertyname="minPoolSize"&gt;5&lt;/property&gt;</span><span style="color: #008000;">--&gt;</span><span style="color: #000000;"><br /></span><span style="color: #008000;">&lt;!--</span><span style="color: #008000;">&lt;propertyname="maxStatements"&gt;0&lt;/property&gt;</span><span style="color: #008000;">--&gt;</span><span style="color: #000000;"><br /></span><span style="color: #008000;">&lt;!--</span><span style="color: #008000;">&lt;propertyname="maxStatementsPerConnection"&gt;5&lt;/property&gt;</span><span style="color: #008000;">--&gt;</span><span style="color: #000000;"><br /></span><span style="color: #008000;">&lt;!--</span><span style="color: #008000;">&lt;propertyname="maxAdministrativeTaskTime"&gt;4&lt;/property&gt;</span><span style="color: #008000;">--&gt;</span><span style="color: #000000;"><br /></span><span style="color: #008000;">&lt;!--</span><span style="color: #008000;">&lt;propertyname="connectionCustomizerClassName"&gt;com.mchange.v2.c3p0.test.TestConnectionCustomizer&lt;/property&gt;</span><span style="color: #008000;">--&gt;</span><span style="color: #000000;"><br /></span><span style="color: #008000;">&lt;!--</span><span style="color: #008000;">&lt;propertyname="unreturnedConnectionTimeout"&gt;15&lt;/property&gt;</span><span style="color: #008000;">--&gt;</span><span style="color: #000000;"><br /></span><span style="color: #008000;">&lt;!--</span><span style="color: #008000;">&lt;propertyname="debugUnreturnedConnectionStackTraces"&gt;true&lt;/property&gt;</span><span style="color: #008000;">--&gt;</span><span style="color: #000000;"><br /><br /></span><span style="color: #008000;">&lt;!--</span><span style="color: #008000;"><br />&lt;user-overridesuser="swaldman"&gt;<br />&lt;propertyname="debugUnreturnedConnectionStackTraces"&gt;true&lt;/property&gt;<br />&lt;/user-overrides&gt;<br /></span><span style="color: #008000;">--&gt;</span><span style="color: #000000;"><br /><br /></span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">default-config</span><span style="color: #0000ff;">&gt;</span><span style="color: #000000;"><br /><br /></span><span style="color: #008000;">&lt;!--</span><span style="color: #008000;"><br />&lt;named-configname="dumbTestConfig"&gt;<br />&lt;propertyname="maxStatements"&gt;200&lt;/property&gt;<br />&lt;propertyname="jdbcUrl"&gt;jdbc:test&lt;/property&gt;<br />&lt;user-overridesuser="poop"&gt;<br />&lt;propertyname="maxStatements"&gt;300&lt;/property&gt;<br />&lt;/user-overrides&gt;<br />&lt;/named-config&gt;<br /></span><span style="color: #008000;">--&gt;</span><span style="color: #000000;"><br /><br /></span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">c3p0-config</span><span style="color: #0000ff;">&gt;</span><span style="color: #000000;"><br /><br /><br /></span>
</div>
</div>
<p> </p>
<p> </p>
<p>//解析properties</p>
<p> </p>
<div style="padding-right: 5.4pt; padding-left: 5.4pt; background: #e6e6e6; padding-bottom: 4px; width: 95%; padding-top: 4px;">
<div>
<img id="_0_853_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedBlockStart.gif" alt="" align="top" /><img id="_0_853_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedBlock.gif" alt="" align="top" /><span id="_0_853_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">/**/</span><span id="_0_853_Open_Text"><span style="color: #008000;">/*</span><span style="color: #008000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />*Distributedaspartofc3p0v.0.9.1.2<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />*<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />*Copyright(C)2005MachineryForChange,Inc.<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />*<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />*Author:SteveWaldman&lt;swaldman@mchange.com&gt;<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />*<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />*Thislibraryisfreesoftware;youcanredistributeitand/ormodify<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />*itunderthetermsoftheGNULesserGeneralPublicLicenseversion2.1,as<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />*publishedbytheFreeSoftwareFoundation.<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />*<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />*Thissoftwareisdistributedinthehopethatitwillbeuseful,<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />*butWITHOUTANYWARRANTY;withouteventheimpliedwarrantyof<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />*MERCHANTABILITYorFITNESSFORAPARTICULARPURPOSE.Seethe<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />*GNULesserGeneralPublicLicenseformoredetails.<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />*<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />*YoushouldhavereceivedacopyoftheGNULesserGeneralPublicLicense<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />*alongwiththissoftware;seethefileLICENSE.Ifnot,writetothe<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />*FreeSoftwareFoundation,Inc.,59TemplePlace,Suite330,<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />*Boston,MA02111-1307,USA.<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedBlockEnd.gif" alt="" align="top" /></span><span style="color: #008000;">*/</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top" /><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top" /><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top" /></span><span style="color: #0000ff;">package</span><span style="color: #000000;">com.mchange.v2.c3p0.cfg;<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top" /><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top" /></span><span style="color: #0000ff;">import</span><span style="color: #000000;">java.io.</span><span style="color: #000000;">*</span><span style="color: #000000;">;<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top" /></span><span style="color: #0000ff;">import</span><span style="color: #000000;">java.lang.reflect.</span><span style="color: #000000;">*</span><span style="color: #000000;">;<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top" /></span><span style="color: #0000ff;">import</span><span style="color: #000000;">java.util.</span><span style="color: #000000;">*</span><span style="color: #000000;">;<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top" /></span><span style="color: #0000ff;">import</span><span style="color: #000000;">com.mchange.v2.cfg.</span><span style="color: #000000;">*</span><span style="color: #000000;">;<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top" /></span><span style="color: #0000ff;">import</span><span style="color: #000000;">com.mchange.v2.log.</span><span style="color: #000000;">*</span><span style="color: #000000;">;<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top" /></span><span style="color: #0000ff;">import</span><span style="color: #000000;">com.mchange.v2.c3p0.impl.</span><span style="color: #000000;">*</span><span style="color: #000000;">;<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top" /><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top" /></span><span style="color: #0000ff;">public</span><span style="color: #0000ff;">final</span><span style="color: #0000ff;">class</span><span style="color: #000000;">C3P0ConfigUtils<br /><img id="_1086_5190_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedBlockStart.gif" alt="" align="top" /><img id="_1086_5190_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedBlock.gif" alt="" align="top" /></span><span id="_1086_5190_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_1086_5190_Open_Text"><span style="color: #000000;">{<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">public</span><span style="color: #0000ff;">final</span><span style="color: #0000ff;">static</span><span style="color: #000000;">StringPROPS_FILE_RSRC_PATH</span><span style="color: #000000;">=</span><span style="color: #000000;">"</span><span style="color: #000000;">/c3p0.properties</span><span style="color: #000000;">"</span><span style="color: #000000;">;<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">public</span><span style="color: #0000ff;">final</span><span style="color: #0000ff;">static</span><span style="color: #000000;">StringPROPS_FILE_PROP_PFX</span><span style="color: #000000;">=</span><span style="color: #000000;">"</span><span style="color: #000000;">c3p0.</span><span style="color: #000000;">"</span><span style="color: #000000;">;<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">public</span><span style="color: #0000ff;">final</span><span style="color: #0000ff;">static</span><span style="color: #0000ff;">int</span><span style="color: #000000;">PROPS_FILE_PROP_PFX_LEN</span><span style="color: #000000;">=</span><span style="color: #000000;">5</span><span style="color: #000000;">;<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /><br /><img id="_1345_1380_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_1345_1380_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">private</span><span style="color: #0000ff;">final</span><span style="color: #0000ff;">static</span><span style="color: #000000;">String[]MISSPELL_PFXS</span><span style="color: #000000;">=</span><span id="_1345_1380_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_1345_1380_Open_Text"><span style="color: #000000;">{</span><span style="color: #000000;">"</span><span style="color: #000000;">/c3pO</span><span style="color: #000000;">"</span><span style="color: #000000;">,</span><span style="color: #000000;">"</span><span style="color: #000000;">/c3po</span><span style="color: #000000;">"</span><span style="color: #000000;">,</span><span style="color: #000000;">"</span><span style="color: #000000;">/C3P0</span><span style="color: #000000;">"</span><span style="color: #000000;">,</span><span style="color: #000000;">"</span><span style="color: #000000;">/C3PO</span><span style="color: #000000;">"</span><span style="color: #000000;">}</span></span><span style="color: #000000;">;<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">final</span><span style="color: #0000ff;">static</span><span style="color: #000000;">MLoggerlogger</span><span style="color: #000000;">=</span><span style="color: #000000;">MLog.getLogger(C3P0ConfigUtils.</span><span style="color: #0000ff;">class</span><span style="color: #000000;">);<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">static</span><span style="color: #000000;"><br /><img id="_1484_2445_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_1484_2445_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_1484_2445_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_1484_2445_Open_Text"><span style="color: #000000;">{<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">if</span><span style="color: #000000;">(logger.isLoggable(MLevel.WARNING)</span><span style="color: #000000;">&amp;&amp;</span><span style="color: #000000;">C3P0ConfigUtils.</span><span style="color: #0000ff;">class</span><span style="color: #000000;">.getResource(PROPS_FILE_RSRC_PATH)</span><span style="color: #000000;">==</span><span style="color: #0000ff;">null</span><span style="color: #000000;">)<br /><img id="_1612_2439_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_1612_2439_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_1612_2439_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_1612_2439_Open_Text"><span style="color: #000000;">{<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #008000;">//</span><span style="color: #008000;">warnonamisspelling...itsanuglywaytodothis,butsinceresourcesarenotlistable...</span><span style="color: #008000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">for</span><span style="color: #000000;">(</span><span style="color: #0000ff;">int</span><span style="color: #000000;">i</span><span style="color: #000000;">=</span><span style="color: #000000;">0</span><span style="color: #000000;">;i</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">MISSPELL_PFXS.length;</span><span style="color: #000000;">++</span><span style="color: #000000;">i)<br /><img id="_1793_2429_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_1793_2429_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_1793_2429_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_1793_2429_Open_Text"><span style="color: #000000;">{<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />Stringtest</span><span style="color: #000000;">=</span><span style="color: #000000;">MISSPELL_PFXS[i]</span><span style="color: #000000;">+</span><span style="color: #000000;">"</span><span style="color: #000000;">.properties</span><span style="color: #000000;">"</span><span style="color: #000000;">;<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">if</span><span style="color: #000000;">(C3P0ConfigUtils.</span><span style="color: #0000ff;">class</span><span style="color: #000000;">.getResource(MISSPELL_PFXS[i]</span><span style="color: #000000;">+</span><span style="color: #000000;">"</span><span style="color: #000000;">.properties</span><span style="color: #000000;">"</span><span style="color: #000000;">)</span><span style="color: #000000;">!=</span><span style="color: #0000ff;">null</span><span style="color: #000000;">)<br /><img id="_1974_2415_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_1974_2415_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_1974_2415_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_1974_2415_Open_Text"><span style="color: #000000;">{<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />logger.warning(</span><span style="color: #000000;">"</span><span style="color: #000000;">POSSIBLYMISSPELLEDc3p0.propertiesCONFIGRESOURCEFOUND.</span><span style="color: #000000;">"</span><span style="color: #000000;">+</span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #000000;">"</span><span style="color: #000000;">Pleaseensurethefilenameisc3p0.properties,alllowercase,</span><span style="color: #000000;">"</span><span style="color: #000000;">+</span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #000000;">"</span><span style="color: #000000;">withthedigit0(NOTtheletterO)inc3p0.Itshouldbeplaced</span><span style="color: #000000;">"</span><span style="color: #000000;">+</span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #000000;">"</span><span style="color: #000000;">inthetoplevelofc3p0'seffectiveclasspath.</span><span style="color: #000000;">"</span><span style="color: #000000;">);<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">break</span><span style="color: #000000;">;<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top" />}</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top" />}</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top" />}</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top" />}</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">public</span><span style="color: #0000ff;">static</span><span style="color: #000000;">HashMapextractHardcodedC3P0Defaults(</span><span style="color: #0000ff;">boolean</span><span style="color: #000000;">stringify)<br /><img id="_2526_3248_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_2526_3248_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_2526_3248_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_2526_3248_Open_Text"><span style="color: #000000;">{<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />HashMapout</span><span style="color: #000000;">=</span><span style="color: #0000ff;">new</span><span style="color: #000000;">HashMap();<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">try</span><span style="color: #000000;"><br /><img id="_2569_3110_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_2569_3110_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_2569_3110_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_2569_3110_Open_Text"><span style="color: #000000;">{<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />Method[]methods</span><span style="color: #000000;">=</span><span style="color: #000000;">C3P0Defaults.</span><span style="color: #0000ff;">class</span><span style="color: #000000;">.getMethods();<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">for</span><span style="color: #000000;">(</span><span style="color: #0000ff;">int</span><span style="color: #000000;">i</span><span style="color: #000000;">=</span><span style="color: #000000;">0</span><span style="color: #000000;">,len</span><span style="color: #000000;">=</span><span style="color: #000000;">methods.length;i</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">len;</span><span style="color: #000000;">++</span><span style="color: #000000;">i)<br /><img id="_2685_3103_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_2685_3103_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_2685_3103_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_2685_3103_Open_Text"><span style="color: #000000;">{<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />Methodm</span><span style="color: #000000;">=</span><span style="color: #000000;">methods[i];<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">int</span><span style="color: #000000;">mods</span><span style="color: #000000;">=</span><span style="color: #000000;">m.getModifiers();<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">if</span><span style="color: #000000;">((mods</span><span style="color: #000000;">&amp;</span><span style="color: #000000;">Modifier.PUBLIC)</span><span style="color: #000000;">!=</span><span style="color: #000000;">0</span><span style="color: #000000;">&amp;&amp;</span><span style="color: #000000;">(mods</span><span style="color: #000000;">&amp;</span><span style="color: #000000;">Modifier.STATIC)</span><span style="color: #000000;">!=</span><span style="color: #000000;">0</span><span style="color: #000000;">&amp;&amp;</span><span style="color: #000000;">m.getParameterTypes().length</span><span style="color: #000000;">==</span><span style="color: #000000;">0</span><span style="color: #000000;">)<br /><img id="_2860_3095_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_2860_3095_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_2860_3095_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_2860_3095_Open_Text"><span style="color: #000000;">{<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">if</span><span style="color: #000000;">(stringify)<br /><img id="_2889_3021_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_2889_3021_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_2889_3021_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_2889_3021_Open_Text"><span style="color: #000000;">{<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />Objectval</span><span style="color: #000000;">=</span><span style="color: #000000;">m.invoke(</span><span style="color: #0000ff;">null</span><span style="color: #000000;">,</span><span style="color: #0000ff;">null</span><span style="color: #000000;">);<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">if</span><span style="color: #000000;">(val</span><span style="color: #000000;">!=</span><span style="color: #0000ff;">null</span><span style="color: #000000;">)<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />out.put(m.getName(),String.valueOf(val));<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top" />}</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">else</span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />out.put(m.getName(),m.invoke(</span><span style="color: #0000ff;">null</span><span style="color: #000000;">,</span><span style="color: #0000ff;">null</span><span style="color: #000000;">));<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top" />}</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top" />}</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top" />}</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">catch</span><span style="color: #000000;">(Exceptione)<br /><img id="_3138_3228_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_3138_3228_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_3138_3228_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_3138_3228_Open_Text"><span style="color: #000000;">{<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />logger.log(MLevel.WARNING,</span><span style="color: #000000;">"</span><span style="color: #000000;">Failedtoextracthardcodeddefaultconfig!?</span><span style="color: #000000;">"</span><span style="color: #000000;">,e);<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top" />}</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">return</span><span style="color: #000000;">out;<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top" />}</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">public</span><span style="color: #0000ff;">static</span><span style="color: #000000;">HashMapextractHardcodedC3P0Defaults()<br /><img id="_3312_3359_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_3312_3359_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_3312_3359_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_3312_3359_Open_Text"><span style="color: #000000;">{</span><span style="color: #0000ff;">return</span><span style="color: #000000;">extractHardcodedC3P0Defaults(</span><span style="color: #0000ff;">true</span><span style="color: #000000;">);}</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">public</span><span style="color: #0000ff;">static</span><span style="color: #000000;">HashMapextractC3P0PropertiesResources()<br /><img id="_3425_3890_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_3425_3890_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_3425_3890_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_3425_3890_Open_Text"><span style="color: #000000;">{<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />HashMapout</span><span style="color: #000000;">=</span><span style="color: #0000ff;">new</span><span style="color: #000000;">HashMap();<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #008000;">//</span><span style="color: #008000;">Propertiesprops=findResourceProperties();<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #008000;">//</span><span style="color: #008000;">props.putAll(findAllC3P0Properties());</span><span style="color: #008000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />Propertiesprops</span><span style="color: #000000;">=</span><span style="color: #000000;">findAllC3P0Properties();<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">for</span><span style="color: #000000;">(Iteratorii</span><span style="color: #000000;">=</span><span style="color: #000000;">props.keySet().iterator();ii.hasNext();)<br /><img id="_3667_3870_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_3667_3870_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_3667_3870_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_3667_3870_Open_Text"><span style="color: #000000;">{<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />Stringkey</span><span style="color: #000000;">=</span><span style="color: #000000;">(String)ii.next();<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />Stringval</span><span style="color: #000000;">=</span><span style="color: #000000;">(String)props.get(key);<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">if</span><span style="color: #000000;">(key.startsWith(PROPS_FILE_PROP_PFX))<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />out.put(key.substring(PROPS_FILE_PROP_PFX_LEN).trim(),val.trim());<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top" />}</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">return</span><span style="color: #000000;">out;<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top" />}</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">public</span><span style="color: #0000ff;">static</span><span style="color: #000000;">C3P0ConfigconfigFromFlatDefaults(HashMapflatDefaults)<br /><img id="_3971_4176_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_3971_4176_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_3971_4176_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_3971_4176_Open_Text"><span style="color: #000000;">{<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />NamedScopedefaults</span><span style="color: #000000;">=</span><span style="color: #0000ff;">new</span><span style="color: #000000;">NamedScope();<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />defaults.props.putAll(flatDefaults);<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />HashMapconfigNamesToNamedScopes</span><span style="color: #000000;">=</span><span style="color: #0000ff;">new</span><span style="color: #000000;">HashMap();<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">return</span><span style="color: #0000ff;">new</span><span style="color: #000000;">C3P0Config(defaults,configNamesToNamedScopes);<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top" />}</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">public</span><span style="color: #0000ff;">static</span><span style="color: #000000;">StringgetPropFileConfigProperty(Stringprop)<br /><img id="_4253_4320_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_4253_4320_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_4253_4320_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_4253_4320_Open_Text"><span style="color: #000000;">{</span><span style="color: #0000ff;">return</span><span style="color: #000000;">MultiPropertiesConfig.readVmConfig().getProperty(prop);}</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">private</span><span style="color: #0000ff;">static</span><span style="color: #000000;">PropertiesfindResourceProperties()<br /><img id="_4382_4479_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_4382_4479_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_4382_4479_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_4382_4479_Open_Text"><span style="color: #000000;">{</span><span style="color: #0000ff;">return</span><span style="color: #000000;">MultiPropertiesConfig.readVmConfig().getPropertiesByResourcePath(PROPS_FILE_RSRC_PATH);}</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">private</span><span style="color: #0000ff;">static</span><span style="color: #000000;">PropertiesfindAllC3P0Properties()<br /><img id="_4540_4617_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_4540_4617_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_4540_4617_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_4540_4617_Open_Text"><span style="color: #000000;">{</span><span style="color: #0000ff;">return</span><span style="color: #000000;">MultiPropertiesConfig.readVmConfig().getPropertiesByPrefix(</span><span style="color: #000000;">"</span><span style="color: #000000;">c3p0</span><span style="color: #000000;">"</span><span style="color: #000000;">);}</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">static</span><span style="color: #000000;">PropertiesfindAllC3P0SystemProperties()<br /><img id="_4676_5150_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_4676_5150_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_4676_5150_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_4676_5150_Open_Text"><span style="color: #000000;">{<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />Propertiesout</span><span style="color: #000000;">=</span><span style="color: #0000ff;">new</span><span style="color: #000000;">Properties();<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />SecurityExceptionsampleExc</span><span style="color: #000000;">=</span><span style="color: #0000ff;">null</span><span style="color: #000000;">;<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">try</span><span style="color: #000000;"><br /><img id="_4762_5077_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_4762_5077_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_4762_5077_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_4762_5077_Open_Text"><span style="color: #000000;">{<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">for</span><span style="color: #000000;">(Iteratorii</span><span style="color: #000000;">=</span><span style="color: #000000;">C3P0Defaults.getKnownProperties().iterator();ii.hasNext();)<br /><img id="_4853_5070_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_4853_5070_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_4853_5070_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_4853_5070_Open_Text"><span style="color: #000000;">{<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />Stringkey</span><span style="color: #000000;">=</span><span style="color: #000000;">(String)ii.next();<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />StringprefixedKey</span><span style="color: #000000;">=</span><span style="color: #000000;">"</span><span style="color: #000000;">c3p0.</span><span style="color: #000000;">"</span><span style="color: #000000;">+</span><span style="color: #000000;">key;<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />Stringvalue</span><span style="color: #000000;">=</span><span style="color: #000000;">System.getProperty(prefixedKey);<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">if</span><span style="color: #000000;">(value</span><span style="color: #000000;">!=</span><span style="color: #0000ff;">null</span><span style="color: #000000;">&amp;&amp;</span><span style="color: #000000;">value.trim().length()</span><span style="color: #000000;">&gt;</span><span style="color: #000000;">0</span><span style="color: #000000;">)<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />out.put(key,value);<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top" />}</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top" />}</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">catch</span><span style="color: #000000;">(SecurityExceptione)<br /><img id="_5113_5130_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_5113_5130_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_5113_5130_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_5113_5130_Open_Text"><span style="color: #000000;">{sampleExc</span><span style="color: #000000;">=</span><span style="color: #000000;">e;}</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">return</span><span style="color: #000000;">out;<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top" />}</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">private</span><span style="color: #000000;">C3P0ConfigUtils()<br /><img id="_5187_5188_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_5187_5188_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_5187_5188_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_5187_5188_Open_Text"><span style="color: #000000;">{}</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedBlockEnd.gif" alt="" align="top" />}</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top" /><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top" /></span>
</div>
</div>
<p> </p>
<p> </p>
<p>//解析xml</p>
<p> </p>
<div style="padding-right: 5.4pt; padding-left: 5.4pt; background: #e6e6e6; padding-bottom: 4px; width: 95%; padding-top: 4px;">
<div>
<img id="_0_853_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedBlockStart.gif" alt="" align="top" /><img id="_0_853_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedBlock.gif" alt="" align="top" /><span id="_0_853_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">/**/</span><span id="_0_853_Open_Text"><span style="color: #008000;">/*</span><span style="color: #008000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />*Distributedaspartofc3p0v.0.9.1.2<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />*<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />*Copyright(C)2005MachineryForChange,Inc.<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />*<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />*Author:SteveWaldman&lt;swaldman@mchange.com&gt;<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />*<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />*Thislibraryisfreesoftware;youcanredistributeitand/ormodify<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />*itunderthetermsoftheGNULesserGeneralPublicLicenseversion2.1,as<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />*publishedbytheFreeSoftwareFoundation.<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />*<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />*Thissoftwareisdistributedinthehopethatitwillbeuseful,<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />*butWITHOUTANYWARRANTY;withouteventheimpliedwarrantyof<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />*MERCHANTABILITYorFITNESSFORAPARTICULARPURPOSE.Seethe<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />*GNULesserGeneralPublicLicenseformoredetails.<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />*<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />*YoushouldhavereceivedacopyoftheGNULesserGeneralPublicLicense<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />*alongwiththissoftware;seethefileLICENSE.Ifnot,writetothe<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />*FreeSoftwareFoundation,Inc.,59TemplePlace,Suite330,<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />*Boston,MA02111-1307,USA.<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedBlockEnd.gif" alt="" align="top" /></span><span style="color: #008000;">*/</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top" /><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top" /><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top" /></span><span style="color: #0000ff;">package</span><span style="color: #000000;">com.mchange.v2.c3p0.cfg;<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top" /><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top" /></span><span style="color: #0000ff;">import</span><span style="color: #000000;">java.io.</span><span style="color: #000000;">*</span><span style="color: #000000;">;<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top" /></span><span style="color: #0000ff;">import</span><span style="color: #000000;">java.util.</span><span style="color: #000000;">*</span><span style="color: #000000;">;<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top" /></span><span style="color: #0000ff;">import</span><span style="color: #000000;">javax.xml.parsers.</span><span style="color: #000000;">*</span><span style="color: #000000;">;<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top" /></span><span style="color: #0000ff;">import</span><span style="color: #000000;">org.w3c.dom.</span><span style="color: #000000;">*</span><span style="color: #000000;">;<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top" /></span><span style="color: #0000ff;">import</span><span style="color: #000000;">com.mchange.v2.log.</span><span style="color: #000000;">*</span><span style="color: #000000;">;<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top" /><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top" /></span><span style="color: #0000ff;">import</span><span style="color: #000000;">com.mchange.v1.xml.DomParseUtils;<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top" /><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top" /></span><span style="color: #0000ff;">public</span><span style="color: #0000ff;">final</span><span style="color: #0000ff;">class</span><span style="color: #000000;">C3P0ConfigXmlUtils<br /><img id="_1089_8910_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedBlockStart.gif" alt="" align="top" /><img id="_1089_8910_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedBlock.gif" alt="" align="top" /></span><span id="_1089_8910_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_1089_8910_Open_Text"><span style="color: #000000;">{<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">public</span><span style="color: #0000ff;">final</span><span style="color: #0000ff;">static</span><span style="color: #000000;">StringXML_CONFIG_RSRC_PATH</span><span style="color: #000000;">=</span><span style="color: #000000;">"</span><span style="color: #000000;">/c3p0-config.xml</span><span style="color: #000000;">"</span><span style="color: #000000;">;<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">final</span><span style="color: #0000ff;">static</span><span style="color: #000000;">MLoggerlogger</span><span style="color: #000000;">=</span><span style="color: #000000;">MLog.getLogger(C3P0ConfigXmlUtils.</span><span style="color: #0000ff;">class</span><span style="color: #000000;">);<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">public</span><span style="color: #0000ff;">final</span><span style="color: #0000ff;">static</span><span style="color: #000000;">StringLINESEP;<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /><br /><img id="_1340_1384_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_1340_1384_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">private</span><span style="color: #0000ff;">final</span><span style="color: #0000ff;">static</span><span style="color: #000000;">String[]MISSPELL_PFXS</span><span style="color: #000000;">=</span><span id="_1340_1384_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_1340_1384_Open_Text"><span style="color: #000000;">{</span><span style="color: #000000;">"</span><span style="color: #000000;">/c3p0</span><span style="color: #000000;">"</span><span style="color: #000000;">,</span><span style="color: #000000;">"</span><span style="color: #000000;">/c3pO</span><span style="color: #000000;">"</span><span style="color: #000000;">,</span><span style="color: #000000;">"</span><span style="color: #000000;">/c3po</span><span style="color: #000000;">"</span><span style="color: #000000;">,</span><span style="color: #000000;">"</span><span style="color: #000000;">/C3P0</span><span style="color: #000000;">"</span><span style="color: #000000;">,</span><span style="color: #000000;">"</span><span style="color: #000000;">/C3PO</span><span style="color: #000000;">"</span><span style="color: #000000;">}</span></span><span style="color: #000000;">;<br /><img id="_1439_1448_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_1439_1448_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">private</span><span style="color: #0000ff;">final</span><span style="color: #0000ff;">static</span><span style="color: #0000ff;">char</span><span style="color: #000000;">[]MISSPELL_LINES</span><span style="color: #000000;">=</span><span id="_1439_1448_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_1439_1448_Open_Text"><span style="color: #000000;">{</span><span style="color: #000000;">'</span><span style="color: #000000;">-</span><span style="color: #000000;">'</span><span style="color: #000000;">,</span><span style="color: #000000;">'</span><span style="color: #000000;">_</span><span style="color: #000000;">'</span><span style="color: #000000;">}</span></span><span style="color: #000000;">;<br /><img id="_1503_1522_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_1503_1522_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">private</span><span style="color: #0000ff;">final</span><span style="color: #0000ff;">static</span><span style="color: #000000;">String[]MISSPELL_CONFIG</span><span style="color: #000000;">=</span><span id="_1503_1522_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_1503_1522_Open_Text"><span style="color: #000000;">{</span><span style="color: #000000;">"</span><span style="color: #000000;">config</span><span style="color: #000000;">"</span><span style="color: #000000;">,</span><span style="color: #000000;">"</span><span style="color: #000000;">CONFIG</span><span style="color: #000000;">"</span><span style="color: #000000;">}</span></span><span style="color: #000000;">;<br /><img id="_1574_1587_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_1574_1587_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">private</span><span style="color: #0000ff;">final</span><span style="color: #0000ff;">static</span><span style="color: #000000;">String[]MISSPELL_XML</span><span style="color: #000000;">=</span><span id="_1574_1587_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_1574_1587_Open_Text"><span style="color: #000000;">{</span><span style="color: #000000;">"</span><span style="color: #000000;">xml</span><span style="color: #000000;">"</span><span style="color: #000000;">,</span><span style="color: #000000;">"</span><span style="color: #000000;">XML</span><span style="color: #000000;">"</span><span style="color: #000000;">}</span></span><span style="color: #000000;">;<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #008000;">//</span><span style="color: #008000;">itsanuglywaytodothis,butsinceresourcesarenotlistable...<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #008000;">//</span><span style="color: #008000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #008000;">//</span><span style="color: #008000;">thisisonlyexecutedonce,anddoesabout40tests(fornow)<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #008000;">//</span><span style="color: #008000;">shouldIcareaboutthecostininitializationtime?<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #008000;">//</span><span style="color: #008000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #008000;">//</span><span style="color: #008000;">shouldonlyberunifwe'vecheckedforthecorrectfile,but<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #008000;">//</span><span style="color: #008000;">notfoundit</span><span style="color: #008000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">private</span><span style="color: #0000ff;">final</span><span style="color: #0000ff;">static</span><span style="color: #0000ff;">void</span><span style="color: #000000;">warnCommonXmlConfigResourceMisspellings()<br /><img id="_1974_3736_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_1974_3736_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_1974_3736_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_1974_3736_Open_Text"><span style="color: #000000;">{<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">if</span><span style="color: #000000;">(logger.isLoggable(MLevel.WARNING))<br /><img id="_2033_3730_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_2033_3730_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_2033_3730_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_2033_3730_Open_Text"><span style="color: #000000;">{<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">for</span><span style="color: #000000;">(</span><span style="color: #0000ff;">int</span><span style="color: #000000;">a</span><span style="color: #000000;">=</span><span style="color: #000000;">0</span><span style="color: #000000;">,lena</span><span style="color: #000000;">=</span><span style="color: #000000;">MISSPELL_PFXS.length;a</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">lena;</span><span style="color: #000000;">++</span><span style="color: #000000;">a)<br /><img id="_2119_3720_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_2119_3720_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_2119_3720_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_2119_3720_Open_Text"><span style="color: #000000;">{<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />StringBuffersb</span><span style="color: #000000;">=</span><span style="color: #0000ff;">new</span><span style="color: #000000;">StringBuffer(</span><span style="color: #000000;">16</span><span style="color: #000000;">);<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />sb.append(MISSPELL_PFXS[a]);<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">for</span><span style="color: #000000;">(</span><span style="color: #0000ff;">int</span><span style="color: #000000;">b</span><span style="color: #000000;">=</span><span style="color: #000000;">0</span><span style="color: #000000;">,lenb</span><span style="color: #000000;">=</span><span style="color: #000000;">MISSPELL_LINES.length;b</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">lenb;</span><span style="color: #000000;">++</span><span style="color: #000000;">b)<br /><img id="_2317_3706_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_2317_3706_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_2317_3706_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_2317_3706_Open_Text"><span style="color: #000000;">{<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />sb.append(MISSPELL_LINES*);<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">for</span><span style="color: #000000;">(</span><span style="color: #0000ff;">int</span><span style="color: #000000;">c</span><span style="color: #000000;">=</span><span style="color: #000000;">0</span><span style="color: #000000;">,lenc</span><span style="color: #000000;">=</span><span style="color: #000000;">MISSPELL_CONFIG.length;c</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">lenc;</span><span style="color: #000000;">++</span><span style="color: #000000;">c)<br /><img id="_2471_3687_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_2471_3687_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_2471_3687_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_2471_3687_Open_Text"><span style="color: #000000;">{<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />sb.append(MISSPELL_CONFIG[c]);<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />sb.append(</span><span style="color: #000000;">'</span><span style="color: #000000;">.</span><span style="color: #000000;">'</span><span style="color: #000000;">);<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">for</span><span style="color: #000000;">(</span><span style="color: #0000ff;">int</span><span style="color: #000000;">d</span><span style="color: #000000;">=</span><span style="color: #000000;">0</span><span style="color: #000000;">,lend</span><span style="color: #000000;">=</span><span style="color: #000000;">MISSPELL_XML.length;d</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">lend;</span><span style="color: #000000;">++</span><span style="color: #000000;">d)<br /><img id="_2675_3665_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_2675_3665_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_2675_3665_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_2675_3665_Open_Text"><span style="color: #000000;">{<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />sb.append(MISSPELL_XML[d]);<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />Stringtest</span><span style="color: #000000;">=</span><span style="color: #000000;">sb.toString();<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">if</span><span style="color: #000000;">(</span><span style="color: #000000;">!</span><span style="color: #000000;">test.equals(XML_CONFIG_RSRC_PATH))<br /><img id="_2886_3639_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_2886_3639_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_2886_3639_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_2886_3639_Open_Text"><span style="color: #000000;">{<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />ObjecthopefullyNull</span><span style="color: #000000;">=</span><span style="color: #000000;">C3P0ConfigXmlUtils.</span><span style="color: #0000ff;">class</span><span style="color: #000000;">.getResource(test);<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">if</span><span style="color: #000000;">(hopefullyNull</span><span style="color: #000000;">!=</span><span style="color: #0000ff;">null</span><span style="color: #000000;">)<br /><img id="_3080_3609_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_3080_3609_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_3080_3609_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_3080_3609_Open_Text"><span style="color: #000000;">{<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />logger.warning(</span><span style="color: #000000;">"</span><span style="color: #000000;">POSSIBLYMISSPELLEDc3p0-conf.xmlRESOURCEFOUND.</span><span style="color: #000000;">"</span><span style="color: #000000;">+</span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #000000;">"</span><span style="color: #000000;">Pleaseensurethefilenameisc3p0-config.xml,alllowercase,</span><span style="color: #000000;">"</span><span style="color: #000000;">+</span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #000000;">"</span><span style="color: #000000;">withthedigit0(NOTtheletterO)inc3p0.Itshouldbeplaced</span><span style="color: #000000;">"</span><span style="color: #000000;">+</span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #000000;">"</span><span style="color: #000000;">inthetoplevelofc3p0'seffectiveclasspath.</span><span style="color: #000000;">"</span><span style="color: #000000;">);<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">return</span><span style="color: #000000;">;<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top" />}</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top" />}</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top" />}</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top" />}</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top" />}</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top" />}</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top" />}</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top" />}</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">static</span><span style="color: #000000;"><br /><img id="_3754_3932_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_3754_3932_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_3754_3932_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_3754_3932_Open_Text"><span style="color: #000000;">{<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />Stringls;<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">try</span><span style="color: #000000;"><br /><img id="_3796_3849_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_3796_3849_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_3796_3849_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_3796_3849_Open_Text"><span style="color: #000000;">{ls</span><span style="color: #000000;">=</span><span style="color: #000000;">System.getProperty(</span><span style="color: #000000;">"</span><span style="color: #000000;">line.separator</span><span style="color: #000000;">"</span><span style="color: #000000;">,</span><span style="color: #000000;">"</span><span style="color: #000000;">"</span><span style="color: #000000;">);}</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">catch</span><span style="color: #000000;">(Exceptione)<br /><img id="_3887_3902_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_3887_3902_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_3887_3902_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_3887_3902_Open_Text"><span style="color: #000000;">{ls</span><span style="color: #000000;">=</span><span style="color: #000000;">"</span><span style="color: #000000;">"</span><span style="color: #000000;">;}</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />LINESEP</span><span style="color: #000000;">=</span><span style="color: #000000;">ls;<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top" />}</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">public</span><span style="color: #0000ff;">static</span><span style="color: #000000;">C3P0ConfigextractXmlConfigFromDefaultResource()</span><span style="color: #0000ff;">throws</span><span style="color: #000000;">Exception<br /><img id="_4023_4691_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_4023_4691_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_4023_4691_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_4023_4691_Open_Text"><span style="color: #000000;">{<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />InputStreamis</span><span style="color: #000000;">=</span><span style="color: #0000ff;">null</span><span style="color: #000000;">;<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">try</span><span style="color: #000000;"><br /><img id="_4077_4394_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_4077_4394_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_4077_4394_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_4077_4394_Open_Text"><span style="color: #000000;">{<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />is</span><span style="color: #000000;">=</span><span style="color: #000000;">C3P0ConfigUtils.</span><span style="color: #0000ff;">class</span><span style="color: #000000;">.getResourceAsStream(XML_CONFIG_RSRC_PATH);<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">if</span><span style="color: #000000;">(is</span><span style="color: #000000;">==</span><span style="color: #0000ff;">null</span><span style="color: #000000;">)<br /><img id="_4203_4305_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_4203_4305_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_4203_4305_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_4203_4305_Open_Text"><span style="color: #000000;">{<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />warnCommonXmlConfigResourceMisspellings();<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">return</span><span style="color: #0000ff;">null</span><span style="color: #000000;">;<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top" />}</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">else</span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">return</span><span style="color: #000000;">extractXmlConfigFromInputStream(is);<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top" />}</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">finally</span><span style="color: #000000;"><br /><img id="_4420_4685_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_4420_4685_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_4420_4685_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_4420_4685_Open_Text"><span style="color: #000000;">{<br /><img id="_4438_4468_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_4438_4468_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">try</span><span id="_4438_4468_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_4438_4468_Open_Text"><span style="color: #000000;">{</span><span style="color: #0000ff;">if</span><span style="color: #000000;">(is</span><span style="color: #000000;">!=</span><span style="color: #0000ff;">null</span><span style="color: #000000;">)is.close();}</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">catch</span><span style="color: #000000;">(Exceptione)<br /><img id="_4514_4675_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_4514_4675_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_4514_4675_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_4514_4675_Open_Text"><span style="color: #000000;">{<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">if</span><span style="color: #000000;">(logger.isLoggable(MLevel.FINE))<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />logger.log(MLevel.FINE,</span><span style="color: #000000;">"</span><span style="color: #000000;">ExceptiononresourceInputStreamclose.</span><span style="color: #000000;">"</span><span style="color: #000000;">,e);<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top" />}</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top" />}</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top" />}</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">public</span><span style="color: #0000ff;">static</span><span style="color: #000000;">C3P0ConfigextractXmlConfigFromInputStream(InputStreamis)</span><span style="color: #0000ff;">throws</span><span style="color: #000000;">Exception<br /><img id="_4792_5015_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_4792_5015_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_4792_5015_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_4792_5015_Open_Text"><span style="color: #000000;">{<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />DocumentBuilderFactoryfact</span><span style="color: #000000;">=</span><span style="color: #000000;">DocumentBuilderFactory.newInstance();<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />DocumentBuilderdb</span><span style="color: #000000;">=</span><span style="color: #000000;">fact.newDocumentBuilder();<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />Documentdoc</span><span style="color: #000000;">=</span><span style="color: #000000;">db.parse(is);<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">return</span><span style="color: #000000;">extractConfigFromXmlDoc(doc);<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top" />}</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">public</span><span style="color: #0000ff;">static</span><span style="color: #000000;">C3P0ConfigextractConfigFromXmlDoc(Documentdoc)</span><span style="color: #0000ff;">throws</span><span style="color: #000000;">Exception<br /><img id="_5106_6579_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_5106_6579_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_5106_6579_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_5106_6579_Open_Text"><span style="color: #000000;">{<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />ElementdocElem</span><span style="color: #000000;">=</span><span style="color: #000000;">doc.getDocumentElement();<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">if</span><span style="color: #000000;">(docElem.getTagName().equals(</span><span style="color: #000000;">"</span><span style="color: #000000;">c3p0-config</span><span style="color: #000000;">"</span><span style="color: #000000;">))<br /><img id="_5224_6431_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_5224_6431_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_5224_6431_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_5224_6431_Open_Text"><span style="color: #000000;">{<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />NamedScopedefaults;<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />HashMapconfigNamesToNamedScopes</span><span style="color: #000000;">=</span><span style="color: #0000ff;">new</span><span style="color: #000000;">HashMap();<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />ElementdefaultConfigElem</span><span style="color: #000000;">=</span><span style="color: #000000;">DomParseUtils.uniqueChild(docElem,</span><span style="color: #000000;">"</span><span style="color: #000000;">default-config</span><span style="color: #000000;">"</span><span style="color: #000000;">);<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">if</span><span style="color: #000000;">(defaultConfigElem</span><span style="color: #000000;">!=</span><span style="color: #0000ff;">null</span><span style="color: #000000;">)<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />defaults</span><span style="color: #000000;">=</span><span style="color: #000000;">extractNamedScopeFromLevel(defaultConfigElem);<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">else</span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />defaults</span><span style="color: #000000;">=</span><span style="color: #0000ff;">new</span><span style="color: #000000;">NamedScope();<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />NodeListnl</span><span style="color: #000000;">=</span><span style="color: #000000;">DomParseUtils.immediateChildElementsByTagName(docElem,</span><span style="color: #000000;">"</span><span style="color: #000000;">named-config</span><span style="color: #000000;">"</span><span style="color: #000000;">);<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">for</span><span style="color: #000000;">(</span><span style="color: #0000ff;">int</span><span style="color: #000000;">i</span><span style="color: #000000;">=</span><span style="color: #000000;">0</span><span style="color: #000000;">,len</span><span style="color: #000000;">=</span><span style="color: #000000;">nl.getLength();i</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">len;</span><span style="color: #000000;">++</span><span style="color: #000000;">i)<br /><img id="_5773_6348_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_5773_6348_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_5773_6348_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_5773_6348_Open_Text"><span style="color: #000000;">{<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />ElementnamedConfigElem</span><span style="color: #000000;">=</span><span style="color: #000000;">(Element)nl.item(i);<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />StringconfigName</span><span style="color: #000000;">=</span><span style="color: #000000;">namedConfigElem.getAttribute(</span><span style="color: #000000;">"</span><span style="color: #000000;">name</span><span style="color: #000000;">"</span><span style="color: #000000;">);<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">if</span><span style="color: #000000;">(configName</span><span style="color: #000000;">!=</span><span style="color: #0000ff;">null</span><span style="color: #000000;">&amp;&amp;</span><span style="color: #000000;">configName.length()</span><span style="color: #000000;">&gt;</span><span style="color: #000000;">0</span><span style="color: #000000;">)<br /><img id="_5996_6182_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_5996_6182_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_5996_6182_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_5996_6182_Open_Text"><span style="color: #000000;">{<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />NamedScopenamedConfig</span><span style="color: #000000;">=</span><span style="color: #000000;">extractNamedScopeFromLevel(namedConfigElem);<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />configNamesToNamedScopes.put(configName,namedConfig);<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top" />}</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">else</span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />logger.warning(</span><span style="color: #000000;">"</span><span style="color: #000000;">ConfigurationXMLcontainednamed-configelementwithoutnameattribute:</span><span style="color: #000000;">"</span><span style="color: #000000;">+</span><span style="color: #000000;">namedConfigElem);<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top" />}</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">return</span><span style="color: #0000ff;">new</span><span style="color: #000000;">C3P0Config(defaults,configNamesToNamedScopes);<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top" />}</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">else</span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">throw</span><span style="color: #0000ff;">new</span><span style="color: #000000;">Exception(</span><span style="color: #000000;">"</span><span style="color: #000000;">Rootelementofc3p0configxmlshouldbe'c3p0-config',not'</span><span style="color: #000000;">"</span><span style="color: #000000;">+</span><span style="color: #000000;">docElem.getTagName()</span><span style="color: #000000;">+</span><span style="color: #000000;">"</span><span style="color: #000000;">'.</span><span style="color: #000000;">"</span><span style="color: #000000;">);<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top" />}</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">private</span><span style="color: #0000ff;">static</span><span style="color: #000000;">NamedScopeextractNamedScopeFromLevel(Elementelem)<br /><img id="_6657_7539_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_6657_7539_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_6657_7539_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_6657_7539_Open_Text"><span style="color: #000000;">{<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />HashMapprops</span><span style="color: #000000;">=</span><span style="color: #000000;">extractPropertiesFromLevel(elem);<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />HashMapuserNamesToOverrides</span><span style="color: #000000;">=</span><span style="color: #0000ff;">new</span><span style="color: #000000;">HashMap();<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />NodeListnl</span><span style="color: #000000;">=</span><span style="color: #000000;">DomParseUtils.immediateChildElementsByTagName(elem,</span><span style="color: #000000;">"</span><span style="color: #000000;">user-overrides</span><span style="color: #000000;">"</span><span style="color: #000000;">);<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">for</span><span style="color: #000000;">(</span><span style="color: #0000ff;">int</span><span style="color: #000000;">i</span><span style="color: #000000;">=</span><span style="color: #000000;">0</span><span style="color: #000000;">,len</span><span style="color: #000000;">=</span><span style="color: #000000;">nl.getLength();i</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">len;</span><span style="color: #000000;">++</span><span style="color: #000000;">i)<br /><img id="_6935_7472_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_6935_7472_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_6935_7472_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_6935_7472_Open_Text"><span style="color: #000000;">{<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />ElementperUserConfigElem</span><span style="color: #000000;">=</span><span style="color: #000000;">(Element)nl.item(i);<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />StringuserName</span><span style="color: #000000;">=</span><span style="color: #000000;">perUserConfigElem.getAttribute(</span><span style="color: #000000;">"</span><span style="color: #000000;">user</span><span style="color: #000000;">"</span><span style="color: #000000;">);<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">if</span><span style="color: #000000;">(userName</span><span style="color: #000000;">!=</span><span style="color: #0000ff;">null</span><span style="color: #000000;">&amp;&amp;</span><span style="color: #000000;">userName.length()</span><span style="color: #000000;">&gt;</span><span style="color: #000000;">0</span><span style="color: #000000;">)<br /><img id="_7140_7304_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_7140_7304_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_7140_7304_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_7140_7304_Open_Text"><span style="color: #000000;">{<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />HashMapuserProps</span><span style="color: #000000;">=</span><span style="color: #000000;">extractPropertiesFromLevel(perUserConfigElem);<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />userNamesToOverrides.put(userName,userProps);<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top" />}</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">else</span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />logger.warning(</span><span style="color: #000000;">"</span><span style="color: #000000;">ConfigurationXMLcontaineduser-overrideselementwithoutuserattribute:</span><span style="color: #000000;">"</span><span style="color: #000000;">+</span><span style="color: #000000;">LINESEP</span><span style="color: #000000;">+</span><span style="color: #000000;">perUserConfigElem);<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top" />}</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">return</span><span style="color: #0000ff;">new</span><span style="color: #000000;">NamedScope(props,userNamesToOverrides);<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top" />}</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">private</span><span style="color: #0000ff;">static</span><span style="color: #000000;">HashMapextractPropertiesFromLevel(Elementelem)<br /><img id="_7614_8867_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_7614_8867_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_7614_8867_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_7614_8867_Open_Text"><span style="color: #000000;">{<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #008000;">//</span><span style="color: #008000;">System.err.println("extractPropertiesFromLevel()");</span><span style="color: #008000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />HashMapout</span><span style="color: #000000;">=</span><span style="color: #0000ff;">new</span><span style="color: #000000;">HashMap();<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">try</span><span style="color: #000000;"><br /><img id="_7740_8547_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_7740_8547_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_7740_8547_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_7740_8547_Open_Text"><span style="color: #000000;">{<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />NodeListnl</span><span style="color: #000000;">=</span><span style="color: #000000;">DomParseUtils.immediateChildElementsByTagName(elem,</span><span style="color: #000000;">"</span><span style="color: #000000;">property</span><span style="color: #000000;">"</span><span style="color: #000000;">);<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">int</span><span style="color: #000000;">len</span><span style="color: #000000;">=</span><span style="color: #000000;">nl.getLength();<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">for</span><span style="color: #000000;">(</span><span style="color: #0000ff;">int</span><span style="color: #000000;">i</span><span style="color: #000000;">=</span><span style="color: #000000;">0</span><span style="color: #000000;">;i</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">len;</span><span style="color: #000000;">++</span><span style="color: #000000;">i)<br /><img id="_7925_8537_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_7925_8537_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_7925_8537_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_7925_8537_Open_Text"><span style="color: #000000;">{<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />ElementpropertyElem</span><span style="color: #000000;">=</span><span style="color: #000000;">(Element)nl.item(i);<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />StringpropName</span><span style="color: #000000;">=</span><span style="color: #000000;">propertyElem.getAttribute(</span><span style="color: #000000;">"</span><span style="color: #000000;">name</span><span style="color: #000000;">"</span><span style="color: #000000;">);<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">if</span><span style="color: #000000;">(propName</span><span style="color: #000000;">!=</span><span style="color: #0000ff;">null</span><span style="color: #000000;">&amp;&amp;</span><span style="color: #000000;">propName.length()</span><span style="color: #000000;">&gt;</span><span style="color: #000000;">0</span><span style="color: #000000;">)<br /><img id="_8136_8368_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_8136_8368_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_8136_8368_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_8136_8368_Open_Text"><span style="color: #000000;">{<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />StringpropVal</span><span style="color: #000000;">=</span><span style="color: #000000;">DomParseUtils.allTextFromElement(propertyElem,</span><span style="color: #0000ff;">true</span><span style="color: #000000;">);<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />out.put(propName,propVal);<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #008000;">//</span><span style="color: #008000;">System.err.println(propName+"-&gt;"+propVal);</span><span style="color: #008000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top" /></span><span style="color: #000000;">}</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">else</span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />logger.warning(</span><span style="color: #000000;">"</span><span style="color: #000000;">ConfigurationXMLcontainedpropertyelementwithoutnameattribute:</span><span style="color: #000000;">"</span><span style="color: #000000;">+</span><span style="color: #000000;">LINESEP</span><span style="color: #000000;">+</span><span style="color: #000000;">propertyElem);<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top" />}</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top" />}</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">catch</span><span style="color: #000000;">(Exceptione)<br /><img id="_8585_8840_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_8585_8840_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_8585_8840_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_8585_8840_Open_Text"><span style="color: #000000;">{<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />logger.log(MLevel.WARNING,<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #000000;">"</span><span style="color: #000000;">AnexceptionoccurredwhilereadingconfigXML.</span><span style="color: #000000;">"</span><span style="color: #000000;">+</span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #000000;">"</span><span style="color: #000000;">Someconfigurationinformationhasprobablybeenignored.</span><span style="color: #000000;">"</span><span style="color: #000000;">,<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />e);<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top" />}</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">return</span><span style="color: #000000;">out;<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top" />}</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">private</span><span style="color: #000000;">C3P0ConfigXmlUtils()<br /><img id="_8907_8908_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_8907_8908_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_8907_8908_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_8907_8908_Open_Text"><span style="color: #000000;">{}</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedBlockEnd.gif" alt="" align="top" />}</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top" /><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top" /></span>
</div>
</div>
<p> </p>
<p> </p>
<div style="padding-right: 5.4pt; padding-left: 5.4pt; background: #e6e6e6; padding-bottom: 4px; width: 95%; padding-top: 4px;">
<div>
<img id="_0_853_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedBlockStart.gif" alt="" align="top" /><img id="_0_853_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedBlock.gif" alt="" align="top" /><span id="_0_853_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">/**/</span><span id="_0_853_Open_Text"><span style="color: #008000;">/*</span><span style="color: #008000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />*Distributedaspartofc3p0v.0.9.1.2<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />*<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />*Copyright(C)2005MachineryForChange,Inc.<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />*<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />*Author:SteveWaldman&lt;swaldman@mchange.com&gt;<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />*<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />*Thislibraryisfreesoftware;youcanredistributeitand/ormodify<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />*itunderthetermsoftheGNULesserGeneralPublicLicenseversion2.1,as<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />*publishedbytheFreeSoftwareFoundation.<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />*<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />*Thissoftwareisdistributedinthehopethatitwillbeuseful,<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />*butWITHOUTANYWARRANTY;withouteventheimpliedwarrantyof<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />*MERCHANTABILITYorFITNESSFORAPARTICULARPURPOSE.Seethe<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />*GNULesserGeneralPublicLicenseformoredetails.<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />*<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />*YoushouldhavereceivedacopyoftheGNULesserGeneralPublicLicense<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />*alongwiththissoftware;seethefileLICENSE.Ifnot,writetothe<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />*FreeSoftwareFoundation,Inc.,59TemplePlace,Suite330,<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />*Boston,MA02111-1307,USA.<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedBlockEnd.gif" alt="" align="top" /></span><span style="color: #008000;">*/</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top" /><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top" /><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top" /></span><span style="color: #0000ff;">package</span><span style="color: #000000;">com.mchange.v1.xml;<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top" /><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top" /></span><span style="color: #0000ff;">import</span><span style="color: #000000;">java.util.</span><span style="color: #000000;">*</span><span style="color: #000000;">;<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top" /></span><span style="color: #0000ff;">import</span><span style="color: #000000;">org.xml.sax.</span><span style="color: #000000;">*</span><span style="color: #000000;">;<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top" /></span><span style="color: #0000ff;">import</span><span style="color: #000000;">org.w3c.dom.</span><span style="color: #000000;">*</span><span style="color: #000000;">;<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top" /></span><span style="color: #0000ff;">import</span><span style="color: #000000;">com.mchange.v1.util.DebugUtils;<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top" /><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top" /></span><span style="color: #0000ff;">public</span><span style="color: #0000ff;">final</span><span style="color: #0000ff;">class</span><span style="color: #000000;">DomParseUtils<br /><img id="_1023_5922_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedBlockStart.gif" alt="" align="top" /><img id="_1023_5922_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedBlock.gif" alt="" align="top" /></span><span id="_1023_5922_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_1023_5922_Open_Text"><span style="color: #000000;">{<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">final</span><span style="color: #0000ff;">static</span><span style="color: #0000ff;">boolean</span><span style="color: #000000;">DEBUG</span><span style="color: #000000;">=</span><span style="color: #0000ff;">true</span><span style="color: #000000;">;<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /><br /><img id="_1069_1123_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_1069_1123_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_1069_1123_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">/***/</span><span id="_1069_1123_Open_Text"><span style="color: #008000;">/**</span><span style="color: #008000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />*</span><span style="color: #808080;">@return</span><span style="color: #008000;">nullifchilddoesn'texist.<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top" /></span><span style="color: #008000;">*/</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">public</span><span style="color: #0000ff;">static</span><span style="color: #000000;">StringallTextFromUniqueChild(Elementelem,StringchildTagName)<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">throws</span><span style="color: #000000;">DOMException<br /><img id="_1233_1295_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_1233_1295_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_1233_1295_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_1233_1295_Open_Text"><span style="color: #000000;">{</span><span style="color: #0000ff;">return</span><span style="color: #000000;">allTextFromUniqueChild(elem,childTagName,</span><span style="color: #0000ff;">false</span><span style="color: #000000;">);}</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /><br /><img id="_1302_1356_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_1302_1356_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_1302_1356_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">/***/</span><span id="_1302_1356_Open_Text"><span style="color: #008000;">/**</span><span style="color: #008000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />*</span><span style="color: #808080;">@return</span><span style="color: #008000;">nullifchilddoesn'texist.<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top" /></span><span style="color: #008000;">*/</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">public</span><span style="color: #0000ff;">static</span><span style="color: #000000;">StringallTextFromUniqueChild(Elementelem,StringchildTagName,</span><span style="color: #0000ff;">boolean</span><span style="color: #000000;">trim)<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">throws</span><span style="color: #000000;">DOMException<br /><img id="_1484_1674_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_1484_1674_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_1484_1674_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_1484_1674_Open_Text"><span style="color: #000000;">{<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />ElementuniqueChild</span><span style="color: #000000;">=</span><span style="color: #000000;">uniqueChildByTagName(elem,childTagName);<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">if</span><span style="color: #000000;">(uniqueChild</span><span style="color: #000000;">==</span><span style="color: #0000ff;">null</span><span style="color: #000000;">)<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">return</span><span style="color: #0000ff;">null</span><span style="color: #000000;">;<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">else</span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">return</span><span style="color: #000000;">DomParseUtils.allTextFromElement(uniqueChild,trim);<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top" />}</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">public</span><span style="color: #0000ff;">static</span><span style="color: #000000;">ElementuniqueChild(Elementelem,StringchildTagName)</span><span style="color: #0000ff;">throws</span><span style="color: #000000;">DOMException<br /><img id="_1774_1826_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_1774_1826_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_1774_1826_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_1774_1826_Open_Text"><span style="color: #000000;">{</span><span style="color: #0000ff;">return</span><span style="color: #000000;">uniqueChildByTagName(elem,childTagName);}</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /><br /><img id="_1833_1913_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_1833_1913_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_1833_1913_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">/***/</span><span id="_1833_1913_Open_Text"><span style="color: #008000;">/**</span><span style="color: #008000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />*</span><span style="color: #808080;">@deprecated</span><span style="color: #008000;">useuniqueChild(Elementelem,StringchildTagName)<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top" /></span><span style="color: #008000;">*/</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">public</span><span style="color: #0000ff;">static</span><span style="color: #000000;">ElementuniqueChildByTagName(Elementelem,StringchildTagName)</span><span style="color: #0000ff;">throws</span><span style="color: #000000;">DOMException<br /><img id="_2021_2309_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_2021_2309_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_2021_2309_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_2021_2309_Open_Text"><span style="color: #000000;">{<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />NodeListnl</span><span style="color: #000000;">=</span><span style="color: #000000;">elem.getElementsByTagName(childTagName);<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">int</span><span style="color: #000000;">len</span><span style="color: #000000;">=</span><span style="color: #000000;">nl.getLength();<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">if</span><span style="color: #000000;">(DEBUG)<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />DebugUtils.myAssert(len</span><span style="color: #000000;">&lt;=</span><span style="color: #000000;">1</span><span style="color: #000000;">,<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #000000;">"</span><span style="color: #000000;">Thereismorethanone(</span><span style="color: #000000;">"</span><span style="color: #000000;">+</span><span style="color: #000000;">len</span><span style="color: #000000;">+</span><span style="color: #000000;">"</span><span style="color: #000000;">)childwithtagname:</span><span style="color: #000000;">"</span><span style="color: #000000;">+</span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />childTagName</span><span style="color: #000000;">+</span><span style="color: #000000;">"</span><span style="color: #000000;">!!!</span><span style="color: #000000;">"</span><span style="color: #000000;">);<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">return</span><span style="color: #000000;">(len</span><span style="color: #000000;">==</span><span style="color: #000000;">1</span><span style="color: #000000;">?</span><span style="color: #000000;">(Element)nl.item(</span><span style="color: #000000;">0</span><span style="color: #000000;">):</span><span style="color: #0000ff;">null</span><span style="color: #000000;">);<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top" />}</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">public</span><span style="color: #0000ff;">static</span><span style="color: #000000;">StringallText(Elementelem)</span><span style="color: #0000ff;">throws</span><span style="color: #000000;">DOMException<br /><img id="_2383_2420_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_2383_2420_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_2383_2420_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_2383_2420_Open_Text"><span style="color: #000000;">{</span><span style="color: #0000ff;">return</span><span style="color: #000000;">allTextFromElement(elem);}</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">public</span><span style="color: #0000ff;">static</span><span style="color: #000000;">StringallText(Elementelem,</span><span style="color: #0000ff;">boolean</span><span style="color: #000000;">trim)</span><span style="color: #0000ff;">throws</span><span style="color: #000000;">DOMException<br /><img id="_2508_2551_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_2508_2551_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_2508_2551_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_2508_2551_Open_Text"><span style="color: #000000;">{</span><span style="color: #0000ff;">return</span><span style="color: #000000;">allTextFromElement(elem,trim);}</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /><br /><img id="_2558_2601_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_2558_2601_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_2558_2601_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">/***/</span><span id="_2558_2601_Open_Text"><span style="color: #008000;">/**</span><span style="color: #808080;">@deprecated</span><span style="color: #008000;">useallText(Elementelem)</span><span style="color: #008000;">*/</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">public</span><span style="color: #0000ff;">static</span><span style="color: #000000;">StringallTextFromElement(Elementelem)</span><span style="color: #0000ff;">throws</span><span style="color: #000000;">DOMException<br /><img id="_2685_2728_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_2685_2728_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_2685_2728_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_2685_2728_Open_Text"><span style="color: #000000;">{</span><span style="color: #0000ff;">return</span><span style="color: #000000;">allTextFromElement(elem,</span><span style="color: #0000ff;">false</span><span style="color: #000000;">);}</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /><br /><img id="_2735_2792_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_2735_2792_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_2735_2792_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">/***/</span><span id="_2735_2792_Open_Text"><span style="color: #008000;">/**</span><span style="color: #808080;">@deprecated</span><span style="color: #008000;">useallText(Elementelem,booleantrim)</span><span style="color: #008000;">*/</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">public</span><span style="color: #0000ff;">static</span><span style="color: #000000;">StringallTextFromElement(Elementelem,</span><span style="color: #0000ff;">boolean</span><span style="color: #000000;">trim)</span><span style="color: #0000ff;">throws</span><span style="color: #000000;">DOMException<br /><img id="_2890_3239_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_2890_3239_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_2890_3239_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_2890_3239_Open_Text"><span style="color: #000000;">{<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />StringBuffertextBuf</span><span style="color: #000000;">=</span><span style="color: #0000ff;">new</span><span style="color: #000000;">StringBuffer();<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />NodeListnl</span><span style="color: #000000;">=</span><span style="color: #000000;">elem.getChildNodes();<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">for</span><span style="color: #000000;">(</span><span style="color: #0000ff;">int</span><span style="color: #000000;">j</span><span style="color: #000000;">=</span><span style="color: #000000;">0</span><span style="color: #000000;">,len</span><span style="color: #000000;">=</span><span style="color: #000000;">nl.getLength();j</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">len;</span><span style="color: #000000;">++</span><span style="color: #000000;">j)<br /><img id="_3031_3162_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_3031_3162_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_3031_3162_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_3031_3162_Open_Text"><span style="color: #000000;">{<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />Nodenode</span><span style="color: #000000;">=</span><span style="color: #000000;">nl.item(j);<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">if</span><span style="color: #000000;">(node</span><span style="color: #0000ff;">instanceof</span><span style="color: #000000;">Text)</span><span style="color: #008000;">//</span><span style="color: #008000;">includesTextandCDATA!</span><span style="color: #008000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #000000;">textBuf.append(node.getNodeValue());<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top" />}</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />Stringout</span><span style="color: #000000;">=</span><span style="color: #000000;">textBuf.toString();<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">return</span><span style="color: #000000;">(trim</span><span style="color: #000000;">?</span><span style="color: #000000;">out.trim():out);<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top" />}</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">public</span><span style="color: #0000ff;">static</span><span style="color: #000000;">String[]allTextFromImmediateChildElements(Elementparent,StringtagName)<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">throws</span><span style="color: #000000;">DOMException<br /><img id="_3363_3433_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_3363_3433_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_3363_3433_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_3363_3433_Open_Text"><span style="color: #000000;">{</span><span style="color: #0000ff;">return</span><span style="color: #000000;">allTextFromImmediateChildElements(parent,tagName,</span><span style="color: #0000ff;">false</span><span style="color: #000000;">);}</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">public</span><span style="color: #0000ff;">static</span><span style="color: #000000;">String[]allTextFromImmediateChildElements(Elementparent,StringtagName,</span><span style="color: #0000ff;">boolean</span><span style="color: #000000;">trim)<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">throws</span><span style="color: #000000;">DOMException<br /><img id="_3571_3803_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_3571_3803_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_3571_3803_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_3571_3803_Open_Text"><span style="color: #000000;">{<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />NodeListnl</span><span style="color: #000000;">=</span><span style="color: #000000;">immediateChildElementsByTagName(parent,tagName);<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">int</span><span style="color: #000000;">len</span><span style="color: #000000;">=</span><span style="color: #000000;">nl.getLength();<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />String[]out</span><span style="color: #000000;">=</span><span style="color: #0000ff;">new</span><span style="color: #000000;">String[len];<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">for</span><span style="color: #000000;">(</span><span style="color: #0000ff;">int</span><span style="color: #000000;">i</span><span style="color: #000000;">=</span><span style="color: #000000;">0</span><span style="color: #000000;">;i</span><span style="color: #000000;">&lt;</span><span style="color: #000000;">len;</span><span style="color: #000000;">++</span><span style="color: #000000;">i)<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />out[i]</span><span style="color: #000000;">=</span><span style="color: #000000;">allText((Element)nl.item(i),trim);<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">return</span><span style="color: #000000;">out;<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top" />}</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">public</span><span style="color: #0000ff;">static</span><span style="color: #000000;">NodeListimmediateChildElementsByTagName(Elementparent,StringtagName)<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">throws</span><span style="color: #000000;">DOMException<br /><img id="_3925_3989_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_3925_3989_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_3925_3989_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_3925_3989_Open_Text"><span style="color: #000000;">{</span><span style="color: #0000ff;">return</span><span style="color: #000000;">getImmediateChildElementsByTagName(parent,tagName);}</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /><br /><img id="_3996_4090_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_3996_4090_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_3996_4090_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">/***/</span><span id="_3996_4090_Open_Text"><span style="color: #008000;">/**</span><span style="color: #008000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />*</span><span style="color: #808080;">@deprecated</span><span style="color: #008000;">useimmediateChildrenByTagName(Elementparent,StringtagName)<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top" /></span><span style="color: #008000;">*/</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">public</span><span style="color: #0000ff;">static</span><span style="color: #000000;">NodeListgetImmediateChildElementsByTagName(Elementparent,StringtagName)<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">throws</span><span style="color: #000000;">DOMException<br /><img id="_4213_4606_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_4213_4606_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_4213_4606_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_4213_4606_Open_Text"><span style="color: #000000;">{<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">final</span><span style="color: #000000;">Listnodes</span><span style="color: #000000;">=</span><span style="color: #0000ff;">new</span><span style="color: #000000;">ArrayList();<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">for</span><span style="color: #000000;">(Nodechild</span><span style="color: #000000;">=</span><span style="color: #000000;">parent.getFirstChild();child</span><span style="color: #000000;">!=</span><span style="color: #0000ff;">null</span><span style="color: #000000;">;child</span><span style="color: #000000;">=</span><span style="color: #000000;">child.getNextSibling())<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">if</span><span style="color: #000000;">(child</span><span style="color: #0000ff;">instanceof</span><span style="color: #000000;">Element</span><span style="color: #000000;">&amp;&amp;</span><span style="color: #000000;">((Element)child).getTagName().equals(tagName))<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />nodes.add(child);<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">return</span><span style="color: #0000ff;">new</span><span style="color: #000000;">NodeList()<br /><img id="_4475_4599_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_4475_4599_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_4475_4599_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_4475_4599_Open_Text"><span style="color: #000000;">{<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">public</span><span style="color: #0000ff;">int</span><span style="color: #000000;">getLength()<br /><img id="_4504_4527_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_4504_4527_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_4504_4527_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_4504_4527_Open_Text"><span style="color: #000000;">{</span><span style="color: #0000ff;">return</span><span style="color: #000000;">nodes.size();}</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">public</span><span style="color: #000000;">Nodeitem(</span><span style="color: #0000ff;">int</span><span style="color: #000000;">i)<br /><img id="_4560_4592_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_4560_4592_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_4560_4592_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_4560_4592_Open_Text"><span style="color: #000000;">{</span><span style="color: #0000ff;">return</span><span style="color: #000000;">(Node)nodes.get(i);}</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top" />}</span></span><span style="color: #000000;">;<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top" />}</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">public</span><span style="color: #0000ff;">static</span><span style="color: #000000;">StringallTextFromUniqueImmediateChild(Elementelem,StringchildTagName)<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">throws</span><span style="color: #000000;">DOMException<br /><img id="_4726_4909_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_4726_4909_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_4726_4909_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_4726_4909_Open_Text"><span style="color: #000000;">{<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />ElementuniqueChild</span><span style="color: #000000;">=</span><span style="color: #000000;">uniqueImmediateChildByTagName(elem,childTagName);<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">if</span><span style="color: #000000;">(uniqueChild</span><span style="color: #000000;">==</span><span style="color: #0000ff;">null</span><span style="color: #000000;">)<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">return</span><span style="color: #0000ff;">null</span><span style="color: #000000;">;<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">return</span><span style="color: #000000;">DomParseUtils.allTextFromElement(uniqueChild);<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top" />}</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">public</span><span style="color: #0000ff;">static</span><span style="color: #000000;">ElementuniqueImmediateChild(Elementelem,StringchildTagName)<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">throws</span><span style="color: #000000;">DOMException<br /><img id="_5020_5081_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_5020_5081_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_5020_5081_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_5020_5081_Open_Text"><span style="color: #000000;">{</span><span style="color: #0000ff;">return</span><span style="color: #000000;">uniqueImmediateChildByTagName(elem,childTagName);}</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /><br /><img id="_5088_5178_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_5088_5178_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_5088_5178_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">/***/</span><span id="_5088_5178_Open_Text"><span style="color: #008000;">/**</span><span style="color: #008000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />*</span><span style="color: #808080;">@deprecated</span><span style="color: #008000;">useuniqueImmediateChild(Elementelem,StringchildTagName)<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top" /></span><span style="color: #008000;">*/</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">public</span><span style="color: #0000ff;">static</span><span style="color: #000000;">ElementuniqueImmediateChildByTagName(Elementelem,StringchildTagName)<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">throws</span><span style="color: #000000;">DOMException<br /><img id="_5297_5600_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_5297_5600_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_5297_5600_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_5297_5600_Open_Text"><span style="color: #000000;">{<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />NodeListnl</span><span style="color: #000000;">=</span><span style="color: #000000;">getImmediateChildElementsByTagName(elem,childTagName);<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">int</span><span style="color: #000000;">len</span><span style="color: #000000;">=</span><span style="color: #000000;">nl.getLength();<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">if</span><span style="color: #000000;">(DEBUG)<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />DebugUtils.myAssert(len</span><span style="color: #000000;">&lt;=</span><span style="color: #000000;">1</span><span style="color: #000000;">,<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #000000;">"</span><span style="color: #000000;">Thereismorethanone(</span><span style="color: #000000;">"</span><span style="color: #000000;">+</span><span style="color: #000000;">len</span><span style="color: #000000;">+</span><span style="color: #000000;">"</span><span style="color: #000000;">)childwithtagname:</span><span style="color: #000000;">"</span><span style="color: #000000;">+</span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />childTagName</span><span style="color: #000000;">+</span><span style="color: #000000;">"</span><span style="color: #000000;">!!!</span><span style="color: #000000;">"</span><span style="color: #000000;">);<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">return</span><span style="color: #000000;">(len</span><span style="color: #000000;">==</span><span style="color: #000000;">1</span><span style="color: #000000;">?</span><span style="color: #000000;">(Element)nl.item(</span><span style="color: #000000;">0</span><span style="color: #000000;">):</span><span style="color: #0000ff;">null</span><span style="color: #000000;">);<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top" />}</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /><br /><img id="_5607_5673_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_5607_5673_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_5607_5673_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">/***/</span><span id="_5607_5673_Open_Text"><span style="color: #008000;">/**</span><span style="color: #008000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />*</span><span style="color: #808080;">@deprecated</span><span style="color: #008000;">useElement.getAttribute(Stringval)<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top" /></span><span style="color: #008000;">*/</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">public</span><span style="color: #0000ff;">static</span><span style="color: #000000;">StringattrValFromElement(Elementelement,StringattrName)<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">throws</span><span style="color: #000000;">DOMException<br /><img id="_5778_5884_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_5778_5884_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_5778_5884_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_5778_5884_Open_Text"><span style="color: #000000;">{<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" />Attrattr</span><span style="color: #000000;">=</span><span style="color: #000000;">element.getAttributeNode(attrName);<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">return</span><span style="color: #000000;">(attr</span><span style="color: #000000;">==</span><span style="color: #0000ff;">null</span><span style="color: #000000;">?</span><span style="color: #0000ff;">null</span><span style="color: #000000;">:attr.getValue());<br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" align="top" />}</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" align="top" /></span><span style="color: #0000ff;">private</span><span style="color: #000000;">DomParseUtils()<br /><img id="_5919_5920_Open_Image" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" align="top" /><img id="_5919_5920_Closed_Image" style="display: none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" align="top" /></span><span id="_5919_5920_Closed_Text" style="display: none; background-color: #ffffff; border: #808080 1px solid;">...</span><span id="_5919_5920_Open_Text"><span style="color: #000000;">{}</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedBlockEnd.gif" alt="" align="top" />}</span></span><span style="color: #000000;"><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top" /><br /><img src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" align="top" /></span>
</div>
</div>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
<p> </p>
</div>
</div>


  <footer>
    <p class="meta">
      
<span class="byline author vcard">Posted by <span class="fn">lianghaijun</span></span>

      









<time datetime="2007-08-23T21:11:00+08:00" pubdate data-updated="true"></time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/java/'>java</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2006-11-02-1982086.html" title="Previous Post: 缓冲区溢出漏洞">&laquo; 缓冲区溢出漏洞</a>
      
      
        <a class="basic-alignment right" href="/blog/2008-01-14-1982084.html" title="Next Post: 利用bat反编译jar包生成源码jar包">利用bat反编译jar包生成源码jar包 &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="comments" aria-live="polite"><!-- Duoshuo Comment BEGIN -->
<div class="ds-thread" data-title=""></div>
<script type="text/javascript">
  var duoshuoQuery = {short_name:"lianghaijun"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = 'http://static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
    || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
</script>
<!-- Duoshuo Comment END -->
</div>
  </section>

</div>

<aside class="sidebar">
  
    
  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2018 - lianghaijun -
  <span class="credit">Powered by <a target="_blank" href="http://jekyllrb.com">jekyll</a></span>
</p>
</footer>
  <script src="/blog/static/jquery.min.js"></script>
<script src="/blog/static/blog.js?tag=20160209"></script>
<script src='http://hm.baidu.com/h.js?f1e7ae48ee023d8ed983af30c485b5ce'></script>


</body>
</html>
